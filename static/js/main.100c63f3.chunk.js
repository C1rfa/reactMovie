(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{25:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(1),r=a.n(s),n=a(13),i=a.n(n),l=(a(25),a(14)),o=a(15),j=a(19),d=a(17),h=function(){return Object(c.jsx)("nav",{className:"grey darken-4",children:Object(c.jsxs)("div",{className:"nav-wrapper",children:[Object(c.jsxs)("a",{href:"#!",className:"brand-logo",children:[Object(c.jsx)("i",{className:"material-icons large",children:"local_movies"}),"Movie App on React"]}),Object(c.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://github.com/C1rfa/reactMovie/tree/movieProjectFunc",children:"Repository"})})})]})})},b=function(){return Object(c.jsx)("footer",{className:"page-footer grey darken-4",children:Object(c.jsx)("div",{className:"footer-copyright",children:Object(c.jsxs)("div",{className:"container",children:["\xa9 ",(new Date).getFullYear()," For Portfolio"]})})})},u=a(18),p=a(16),x=a.n(p),O=a(3),m=function(e,t){var a=t.type,c=t.payload;switch(a){case"SET_SEARCH_RESULTS":return Object(O.a)(Object(O.a)({},e),{},{response:c.response,movies:c.movies,totalResults:c.totalResults,currentPage:c.currentPage});case"SET_ERROR":return Object(O.a)(Object(O.a)({},e),{},{response:c.response,error:c.error});case"CHANGE_LOADING_STATUS":return Object(O.a)(Object(O.a)({},e),{},{isLoading:c.loading});case"CHANGE_SEARCH_TEXT":return Object(O.a)(Object(O.a)({},e),{},{searchText:c.text});case"CHANGE_SEARCH_TYPE":return Object(O.a)(Object(O.a)({},e),{},{searchType:c.type});default:return e}},v=r.a.createContext(),g={searchText:"",searchType:null,movies:null,response:null,error:null,totalResults:null,currentPage:null,isLoading:!1},f=function(e){var t=e.children,a=r.a.useReducer(m,g),s=Object(u.a)(a,2),n=s[0],i=s[1];return n.sendRequest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="2d4d6c82",a=function(){var a="https://www.omdbapi.com/?apikey=".concat(t,"&s=").concat(n.searchText);return n.searchType&&(a+="&type=".concat(n.searchType)),e&&(a+="&page=".concat(e)),a};i({type:"CHANGE_LOADING_STATUS",payload:{loading:!n.loadingStatus}}),x.a.get(a()).then((function(e){return e.data})).then((function(t){t.hasOwnProperty("Error")?i({type:"SET_ERROR",payload:{response:t.Response,error:t.Error}}):i({type:"SET_SEARCH_RESULTS",payload:{response:t.Response,movies:t.Search,totalResults:t.totalResults,currentPage:e}})})).catch((function(e){i({type:"SET_ERROR",payload:{response:!1,error:e.message}})})).finally((function(){i({type:"CHANGE_LOADING_STATUS",payload:{loading:!!n.loadingStatus}})}))},n.changeSearchText=function(e){i({type:"CHANGE_SEARCH_TEXT",payload:{text:e}})},n.changeSearchType=function(e){i({type:"CHANGE_SEARCH_TYPE",payload:{type:e}})},Object(c.jsx)(v.Provider,{value:n,children:t})},N=function(){return Object(c.jsx)("div",{className:"progress red",children:Object(c.jsx)("div",{className:"indeterminate"})})},y=function(e){var t=r.a.useContext(v).error;return Object(c.jsxs)("div",{className:"message",children:[Object(c.jsx)("i",{className:"material-icons large",children:"error"}),t]})},T=function(e){var t=e.Title,a=e.Year,s=e.Type,r=e.Poster,n=e.imdbID;return Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("div",{className:"card-image waves-effect waves-block waves-light",children:Object(c.jsx)("img",{className:"activator",alt:t,src:"N/A"!==r?r:"https://via.placeholder.com/300x450?text=".concat(t)})}),Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsx)("span",{className:"card-title activator grey-text text-darken-4",children:t}),Object(c.jsxs)("div",{className:"section",children:[Object(c.jsxs)("p",{children:["Year: ",a]}),Object(c.jsxs)("p",{children:["Type: ",s]})]}),Object(c.jsx)("div",{className:"section",children:Object(c.jsx)("a",{className:"grey darken-4 waves-effect waves-light btn-large",target:"_blank",rel:"noopener noreferrer",href:"https://www.imdb.com/title/".concat(n),children:"View at IMDB"})})]})]})},w=function(e){var t=r.a.useContext(v).movies.map((function(e){return Object(c.jsx)(T,Object(O.a)({},e),e.imdbID)}));return Object(c.jsx)("div",{className:"movies",children:t})},S=function(e){var t=r.a.useContext(v),a=t.searchText,s=t.searchType,n=t.changeSearchText,i=t.changeSearchType,l=t.sendRequest,o=function(e){switch(e.target.type){case"text":n(e.target.value);break;case"radio":i("all"===e.target.id?null:e.target.id)}};return Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a&&l()},children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("i",{className:"material-icons prefix",children:"search"}),Object(c.jsx)("input",{placeholder:"search",type:"text",name:"text",value:a,onChange:o,className:"validate"})]}),Object(c.jsx)("p",{className:"col s-6",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{name:"type",id:"all",type:"radio",onChange:o,checked:null===s}),Object(c.jsx)("span",{children:"All"})]})}),Object(c.jsx)("p",{className:"col s-6",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{name:"type",id:"movie",type:"radio",onChange:o}),Object(c.jsx)("span",{children:"Movie"})]})}),Object(c.jsx)("p",{className:"col s-6",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{name:"type",id:"series",type:"radio",onChange:o}),Object(c.jsx)("span",{children:"Series"})]})}),Object(c.jsx)("p",{className:"col s-6",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{name:"type",id:"game",type:"radio",onChange:o}),Object(c.jsx)("span",{children:"Video Game"})]})})]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("button",{className:"red btn waves-effect waves-light col s12",type:"submit",name:"action",children:["Search",Object(c.jsx)("i",{className:"material-icons right",children:"search"})]})})]})})},R=function(e){var t,a,s=r.a.useContext(v),n=s.currentPage,i=s.totalResults,l=s.sendRequest,o=Math.ceil(i/10),j=[],d=function(e){e.target.innerHTML!==n&&("fastForward"===e.target.closest("li").id?l(o):"fastBackward"===e.target.closest("li").id?l(1):l(+e.target.innerHTML))};o>5?n+4>o?(t=o-4,a=o):(t=n,a=n+4):(t=1,a=o);for(var h=t;h<=a;h++)j.push(Object(c.jsx)("li",{className:+n===h?"active red":"waves-effect",onClick:d,children:h},h));return Object(c.jsx)("div",{className:"message",children:Object(c.jsxs)("ul",{className:"pagination",children:[Object(c.jsx)("li",{className:1===n?"disabled":"waves-effect",id:"fastBackward",onClick:d,children:Object(c.jsx)("i",{className:"material-icons",children:"chevron_left"})}),j,Object(c.jsx)("li",{className:1===n?"disabled":"waves-effect",id:"fastForward",onClick:d,children:Object(c.jsx)("i",{className:"material-icons",children:"chevron_right"})})]})})},E=function(e){var t=r.a.useContext(v),a=t.isLoading,s=t.response,n=t.error;return Object(c.jsxs)("main",{className:"container content",children:[Object(c.jsx)(S,{}),a?Object(c.jsx)(N,{}):"True"===s?Object(c.jsxs)(c.Fragment,{children:[" ",Object(c.jsx)(w,{})," ",Object(c.jsx)(R,{})," "]}):n?Object(c.jsx)(y,{}):Object(c.jsx)("div",{className:"message",children:"Type something in search box"})]})},C=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(h,{}),Object(c.jsx)(f,{children:Object(c.jsx)(E,{})}),Object(c.jsx)(b,{})]})}}]),a}(r.a.Component);i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.100c63f3.chunk.js.map