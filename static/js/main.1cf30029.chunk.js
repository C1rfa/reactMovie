(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{25:function(e,t,a){},26:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(1),r=a.n(s),n=a(13),i=a.n(n),l=(a(25),a(26),a(14)),o=a(15),d=a(19),j=a(17),b=a.p+"static/media/clapperboard.92c5341a.svg",p=function(){return Object(c.jsxs)("header",{className:"main-header",children:[Object(c.jsxs)("div",{className:"brand",children:[Object(c.jsx)("img",{src:b,alt:"logo"}),Object(c.jsx)("span",{className:"brand-text",children:"React Movie App"})]}),Object(c.jsx)("div",{className:"repo-link",children:Object(c.jsx)("a",{href:"https://github.com/C1rfa/reactMovie",children:"Repo"})})]})},h=function(){return Object(c.jsx)("footer",{className:"main-footer",children:Object(c.jsxs)("div",{className:"copyright",children:["\xa9 ",(new Date).getFullYear()," For Portfolio"]})})},u=a(18),m=a(16),O=a.n(m),x=a(3),g=function(e,t){var a=t.type,c=t.payload;switch(a){case"SET_SEARCH_RESULTS":return Object(x.a)(Object(x.a)({},e),{},{response:c.response,movies:c.movies,totalResults:c.totalResults,currentPage:c.currentPage});case"SET_ERROR":return Object(x.a)(Object(x.a)({},e),{},{response:c.response,error:c.error});case"CHANGE_LOADING_STATUS":return Object(x.a)(Object(x.a)({},e),{},{isLoading:c.loading});case"CHANGE_SEARCH_TEXT":return Object(x.a)(Object(x.a)({},e),{},{searchText:c.text});case"CHANGE_SEARCH_TYPE":return Object(x.a)(Object(x.a)({},e),{},{searchType:c.type});default:return e}},v=r.a.createContext(),f={searchText:"",searchType:null,movies:null,response:null,error:null,totalResults:null,currentPage:null,isLoading:!1},y=function(e){var t=e.children,a=r.a.useReducer(g,f),s=Object(u.a)(a,2),n=s[0],i=s[1];return n.sendRequest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="2d4d6c82",a=function(){var a="https://www.omdbapi.com/?apikey=".concat(t,"&s=").concat(n.searchText);return n.searchType&&(a+="&type=".concat(n.searchType)),e&&(a+="&page=".concat(e)),a};i({type:"CHANGE_LOADING_STATUS",payload:{loading:!n.loadingStatus}}),O.a.get(a()).then((function(e){return e.data})).then((function(t){t.hasOwnProperty("Error")?i({type:"SET_ERROR",payload:{response:t.Response,error:t.Error}}):i({type:"SET_SEARCH_RESULTS",payload:{response:t.Response,movies:t.Search,totalResults:t.totalResults,currentPage:e}})})).catch((function(e){i({type:"SET_ERROR",payload:{response:!1,error:e.message}})})).finally((function(){i({type:"CHANGE_LOADING_STATUS",payload:{loading:!!n.loadingStatus}})}))},n.changeSearchText=function(e){i({type:"CHANGE_SEARCH_TEXT",payload:{text:e}})},n.changeSearchType=function(e){i({type:"CHANGE_SEARCH_TYPE",payload:{type:e}})},Object(c.jsx)(v.Provider,{value:n,children:t})},N=function(){return Object(c.jsx)("div",{className:"preloader",children:Object(c.jsx)("div",{className:"box2"})})},T=a.p+"static/media/warning.e82d0b2d.svg",S=function(e){var t=r.a.useContext(v).error;return Object(c.jsxs)("div",{className:"message",children:[Object(c.jsx)("img",{src:T,alt:"error"}),t]})},R=function(e){var t=e.Title,a=e.Year,s=e.Type,r=e.Poster,n=e.imdbID;return Object(c.jsx)("div",{className:"movie-card",children:Object(c.jsxs)("div",{className:"movie-card-content",children:[Object(c.jsx)("div",{className:"movie-card-front",children:Object(c.jsx)("img",{src:"N/A"!==r?r:"https://via.placeholder.com/300x450?text=".concat(t),alt:t})}),Object(c.jsxs)("div",{className:"movie-card-back",children:[Object(c.jsx)("span",{className:"movie-card-title",children:t}),Object(c.jsxs)("p",{children:["Year: ",a]}),Object(c.jsxs)("p",{children:["Type: ",s]}),Object(c.jsx)("a",{className:"btn btn--movie-card",href:"https://www.imdb.com/title/".concat(n),target:"_blank",rel:"noreferrer",children:"Open IMDB page"})]})]})})},E=function(e){var t=r.a.useContext(v).movies.map((function(e){return Object(c.jsx)(R,Object(x.a)({},e),e.imdbID)}));return Object(c.jsx)("div",{className:"movies",children:t})},C=a.p+"static/media/magnifier.f35756ac.svg",w=function(e){var t=r.a.useContext(v),a=t.searchText,s=t.searchType,n=t.changeSearchText,i=t.changeSearchType,l=t.sendRequest,o=function(e){switch(e.target.type){case"text":n(e.target.value);break;case"radio":i("all"===e.target.id?null:e.target.id)}};return Object(c.jsxs)("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),a&&l()},children:[Object(c.jsxs)("div",{className:"field-row",children:[Object(c.jsx)("input",{placeholder:"Type Something And Press Search",type:"text",name:"text",value:a,onChange:o}),Object(c.jsx)("div",{className:"search-icon-wrap",children:Object(c.jsx)("img",{className:"search-icon",src:C,alt:"search"})})]}),Object(c.jsxs)("div",{className:"field-col",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{name:"type",id:"all",type:"radio",onChange:o,checked:null===s}),Object(c.jsx)("span",{children:"All"})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{name:"type",id:"movie",type:"radio",onChange:o}),Object(c.jsx)("span",{children:"Movie"})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{name:"type",id:"series",type:"radio",onChange:o}),Object(c.jsx)("span",{children:"Series"})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{name:"type",id:"game",type:"radio",onChange:o}),Object(c.jsx)("span",{children:"Video Game"})]})]}),Object(c.jsx)("div",{className:"field-row",children:Object(c.jsx)("button",{className:"btn",type:"submit",name:"action",children:"Search"})})]})},A=a.p+"static/media/right-arrow.564439e9.svg",_=a.p+"static/media/left-arrow.75b87234.svg",k=void 0,H=function(e){var t,a,s=r.a.useContext(v),n=s.currentPage,i=s.totalResults,l=s.sendRequest,o=Math.ceil(i/10),d=[],j=function(e){e.target.innerHTML!==n&&("fastForward"===e.target.closest("li").id?l(o):"fastBackward"===e.target.closest("li").id?l(1):l(+e.target.innerHTML))};o>5?n+4>o?(t=o-4,a=o):(t=n,a=n+4):(t=1,a=o);for(var b=t;b<=a;b++)d.push(Object(c.jsx)("li",{className:+n===b?"active-page":"page",onClick:j,children:b},b));return Object(c.jsxs)("ul",{className:"pagination",children:[Object(c.jsx)("li",{className:1===n?"disabled-page":"page-backward",id:"fastBackward",onClick:j.bind(k),children:Object(c.jsx)("img",{className:"page-icon",alt:"backward",src:_})}),d,Object(c.jsx)("li",{className:n===o?"disabled-page":"page-forward",id:"fastForward",onClick:j.bind(k),children:Object(c.jsx)("img",{className:"page-icon",alt:"forward",src:A})})]})},P=function(e){var t=r.a.useContext(v),a=t.isLoading,s=t.response,n=t.error;return Object(c.jsxs)("main",{className:"content",children:[Object(c.jsx)(w,{}),a?Object(c.jsx)(N,{}):"True"===s?Object(c.jsxs)(c.Fragment,{children:[" ",Object(c.jsx)(E,{})," ",Object(c.jsx)(H,{})," "]}):n?Object(c.jsx)(S,{}):Object(c.jsx)("div",{className:"message",children:"Type something in search box"})]})},G=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(p,{}),Object(c.jsx)(y,{children:Object(c.jsx)(P,{})}),Object(c.jsx)(h,{})]})}}]),a}(r.a.Component);i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(G,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.1cf30029.chunk.js.map